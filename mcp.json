{
  "name": "b2b-osint-mcp",
  "version": "0.1.0",
  "description": "MCP tools for querying local ChromaDB market intelligence via FastAPI",
  "server": {
    "type": "http",
    "base_url": "http://localhost:8080"
  },
  "tools": [
    {
      "name": "market_search",
      "method": "POST",
      "path": "/tools/market_search",
      "description": "Basic semantic search across raw_pages, products, and companies collections.",
      "parameters": {
        "type": "object",
        "properties": {
          "query": {"type": "string", "description": "Query text"},
          "n_results": {"type": "integer", "minimum": 1, "maximum": 100, "default": 5}
        },
        "required": ["query"]
      }
    },
    {
      "name": "filter_search",
      "method": "POST",
      "path": "/tools/filter_search",
      "description": "Semantic search with a metadata filter (e.g., domain, brand, category, company).",
      "parameters": {
        "type": "object",
        "properties": {
          "query": {"type": "string", "description": "Query text"},
          "key": {"type": "string", "description": "Filter key: domain | brand | category | company"},
          "value": {"type": "string", "description": "Exact value to match"},
          "n_results": {"type": "integer", "minimum": 1, "maximum": 100, "default": 5}
        },
        "required": ["query", "key", "value"]
      }
    },
    {
      "name": "get_domains",
      "method": "GET",
      "path": "/tools/domains",
      "description": "List distinct domains available (prefers embedded tracker; falls back to extracted data or Chroma).",
      "parameters": {"type": "object", "properties": {}, "additionalProperties": false}
    },
    {
      "name": "get_contacts",
      "method": "GET",
      "path": "/tools/contacts",
      "description": "Return structured contacts and related profile fields per domain when available.",
      "parameters": {"type": "object", "properties": {}, "additionalProperties": false}
    },
    {
      "name": "get_stats",
      "method": "GET",
      "path": "/tools/stats",
      "description": "Return counts per collection, domain count, and embedded date range.",
      "parameters": {"type": "object", "properties": {}, "additionalProperties": false}
    },
    {
      "name": "get_recent_crawls",
      "method": "GET",
      "path": "/tools/recent_crawls",
      "description": "Show last crawl activity from crawl_state files (timestamp + sample of URLs).",
      "parameters": {
        "type": "object",
        "properties": {
          "limit": {"type": "integer", "minimum": 1, "maximum": 100, "default": 10}
        }
      }
    }
  ]
}


